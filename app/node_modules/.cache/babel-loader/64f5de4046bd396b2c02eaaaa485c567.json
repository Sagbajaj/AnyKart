{"ast":null,"code":"import _classCallCheck from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Link}from'react-router-dom';import Navigation from\"../../components/Navigation\";import Footer from\"../../components/Footer\";import React,{Component}from'react';import ApiCustomerService from\"../../services/customer/ApiCustomerService\";import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductCategoryScreen=/*#__PURE__*/function(_Component){_inherits(ProductCategoryScreen,_Component);var _super=_createSuper(ProductCategoryScreen);function ProductCategoryScreen(props){var _this;_classCallCheck(this,ProductCategoryScreen);_this=_super.call(this,props);_this.state={message:\"\",products:[]};_this.productDetails=_this.productDetails.bind(_assertThisInitialized(_this));_this.reloadProductsList=_this.reloadProductsList.bind(_assertThisInitialized(_this));_this.addProductToCart=_this.addProductToCart.bind(_assertThisInitialized(_this));_this.selectProductsByLowtoHigh=_this.selectProductsByLowtoHigh.bind(_assertThisInitialized(_this));_this.selectProductsByHightoLow=_this.selectProductsByHightoLow.bind(_assertThisInitialized(_this));return _this;}_createClass(ProductCategoryScreen,[{key:\"componentDidMount\",value:function componentDidMount(){this.reloadProductsList();}},{key:\"reloadProductsList\",value:function reloadProductsList(){var _this2=this;ApiCustomerService.fetchProductsByCategoryId(window.localStorage.getItem(\"category_id\")).then(function(res){window.localStorage.setItem(\"msg\",res.data.message);_this2.setState({products:res.data.result});});}},{key:\"addProductToCart\",value:function addProductToCart(product){var _this3=this;var productCartId={userId:JSON.parse(window.localStorage.getItem(\"user_id\")),productId:product.id};ApiCustomerService.addProductToCart(productCartId).then(function(res){_this3.setState({message:res.data.result});});//alert(\"!!! Items Added to Cart !!!\");\nSwal.fire({icon:'success',title:'!!! Items Added to Cart !!!',showConfirmButton:true,confirmButtonText:'OKAY'});JSON.stringify(window.localStorage.setItem(\"cart_size\",JSON.parse(window.localStorage.getItem(\"cart_size\"))+1));window.localStorage.setItem(\"addressStatus\",false);this.props.history.push('/product-category');}},{key:\"productDetails\",value:function productDetails(product){window.localStorage.setItem(\"product_id\",product.id);this.props.history.push('/product-details');}},{key:\"selectProductsByLowtoHigh\",value:function selectProductsByLowtoHigh(){var _this4=this;ApiCustomerService.sortProductsByLowToHigh(window.localStorage.getItem(\"category_id\")).then(function(res){_this4.setState({products:res.data.result});console.log(_this4.state.products);});}},{key:\"selectProductsByHightoLow\",value:function selectProductsByHightoLow(){var _this5=this;ApiCustomerService.sortProductsByHighToLow(window.localStorage.getItem(\"category_id\")).then(function(res){_this5.setState({products:res.data.result});console.log(_this5.state.products);});}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"!!! \",window.localStorage.getItem(\"category_name\"),\" !!!\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"position\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-light dropdown-toggle\",href:\"#\",role:\"button\",id:\"dropdownMenuLink\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:\"Sort\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuLink\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",onClick:function onClick(){_this6.selectProductsByLowtoHigh();},children:\"Sort By Price : Low to High\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",onClick:function onClick(){_this6.selectProductsByHightoLow();},children:\"Sort By Price : High to Low\"})})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-center\",children:this.state.products.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"product col-md-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"img\",{src:'/images/'+product.productName+'.jpg',className:\"d-block w-100 \",alt:\"image\",height:\"150px\",width:\"50px\"}),/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",onClick:function onClick(){_this6.productDetails(product);},children:/*#__PURE__*/_jsx(\"h5\",{className:\"nameColor\",children:product.productName})}),/*#__PURE__*/_jsxs(\"h5\",{className:\"nameColor\",children:[\"Rs. \",product.finalPrice]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"nameColor\",children:[\"Rs. \",/*#__PURE__*/_jsx(\"strike\",{children:product.price}),/*#__PURE__*/_jsxs(\"span\",{className:\"nameColor1\",children:[\"\\xA0 \",product.discount,\"% off\"]})]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"nameColor\",children:[product.grams,\"gms\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){_this6.addProductToCart(product);},className:\"btn btn-sm btn-success btn-add-to-cart\",children:\"Add To Cart\"})]},product.id);})})})]})})]});}}]);return ProductCategoryScreen;}(Component);export default ProductCategoryScreen;","map":{"version":3,"sources":["C:/Users/ombal/Desktop/project/anykart/AnyKart/app/src/screens/customer/ProductCategoryScreen.js"],"names":["Link","Navigation","Footer","React","Component","ApiCustomerService","Swal","ProductCategoryScreen","props","state","message","products","productDetails","bind","reloadProductsList","addProductToCart","selectProductsByLowtoHigh","selectProductsByHightoLow","fetchProductsByCategoryId","window","localStorage","getItem","then","res","setItem","data","setState","result","product","productCartId","userId","JSON","parse","productId","id","fire","icon","title","showConfirmButton","confirmButtonText","stringify","history","push","sortProductsByLowToHigh","console","log","sortProductsByHighToLow","map","productName","finalPrice","price","discount","grams"],"mappings":"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","sourcesContent":["import {Link} from 'react-router-dom'\r\nimport Navigation from \"../../components/Navigation\";\r\nimport Footer from \"../../components/Footer\";\r\nimport React, { Component } from 'react'\r\nimport ApiCustomerService from \"../../services/customer/ApiCustomerService\";\r\nimport Swal from 'sweetalert2';\r\nclass ProductCategoryScreen extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            message:\"\",\r\n            products: [],\r\n        }\r\n        this.productDetails = this.productDetails.bind(this);\r\n        this.reloadProductsList = this.reloadProductsList.bind(this);\r\n        this.addProductToCart = this.addProductToCart.bind(this);\r\n        this.selectProductsByLowtoHigh = this.selectProductsByLowtoHigh.bind(this);\r\n        this.selectProductsByHightoLow = this.selectProductsByHightoLow.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.reloadProductsList();\r\n    }\r\n\r\n    reloadProductsList() {\r\n        ApiCustomerService.fetchProductsByCategoryId(window.localStorage.getItem(\"category_id\"))\r\n        .then((res) => {\r\n            window.localStorage.setItem(\"msg\", res.data.message)\r\n            this.setState({products : res.data.result})\r\n        });\r\n    }\r\n\r\n    addProductToCart(product) {\r\n        let productCartId = {userId: JSON.parse(window.localStorage.getItem(\"user_id\")), \r\n            productId: product.id};\r\n        ApiCustomerService.addProductToCart(productCartId)\r\n        .then((res) => {\r\n            this.setState({message: res.data.result})\r\n        });\r\n        //alert(\"!!! Items Added to Cart !!!\");\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: '!!! Items Added to Cart !!!',\r\n            showConfirmButton: true,\r\n            confirmButtonText: 'OKAY',\r\n          })\r\n        JSON.stringify(window.localStorage.setItem(\"cart_size\", JSON.parse(window.localStorage.getItem(\"cart_size\")) + 1) );      \r\n        window.localStorage.setItem(\"addressStatus\", false)\r\n        this.props.history.push('/product-category');\r\n    }\r\n\r\n    productDetails(product) {\r\n        window.localStorage.setItem(\"product_id\", product.id);\r\n        this.props.history.push('/product-details');\r\n    }\r\n\r\n    selectProductsByLowtoHigh() {\r\n        ApiCustomerService.sortProductsByLowToHigh(window.localStorage.getItem(\"category_id\"))\r\n            .then((res) => {\r\n                this.setState({products: res.data.result})\r\n                console.log(this.state.products);\r\n            });\r\n    }\r\n\r\n    selectProductsByHightoLow() {\r\n        ApiCustomerService.sortProductsByHighToLow(window.localStorage.getItem(\"category_id\"))\r\n        .then((res) => {\r\n            this.setState({products: res.data.result})\r\n            console.log(this.state.products);\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Navigation/>\r\n                 <div className=\"container\">\r\n                    <div className=\"container\">\r\n                     <h4>!!! { window.localStorage.getItem(\"category_name\")} !!!</h4>\r\n                     <div className=\"position\">\r\n                         <div className=\"dropdown\">\r\n                             <a className=\"btn btn-light dropdown-toggle\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                             Sort\r\n                             </a>\r\n                             <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n                                 <li><a className=\"dropdown-item\" onClick={() => { this.selectProductsByLowtoHigh()}}>Sort By Price : Low to High</a></li>\r\n                                 <li><a className=\"dropdown-item\" onClick={() => { this.selectProductsByHightoLow()}}>Sort By Price : High to Low</a></li>\r\n                             </ul>\r\n                         </div>     \r\n                     </div>      \r\n                     <br/>  \r\n                     <hr/>\r\n                     <br/>\r\n\r\n\r\n                     <div className=\"container\">\r\n                    <div className=\"row row-center\">\r\n                    {this.state.products.map(product => \r\n                        <div className=\"product col-md-3\" key={product.id}>\r\n                            <div className=\"title\"> \r\n                                <img src={'/images/'+product.productName+'.jpg'} className=\"d-block w-100 \" alt=\"image\" height=\"150px\" width=\"50px\" />\r\n                                <a className=\"nav-link\" onClick={() => { this.productDetails(product) }}><h5 className=\"nameColor\">{product.productName}</h5></a>\r\n                                <h5 className=\"nameColor\">Rs. {product.finalPrice}</h5>\r\n                                <h5 className=\"nameColor\">Rs. <strike>{product.price}</strike><span className=\"nameColor1\">&nbsp; {product.discount}% off</span></h5>                                \r\n                                <h5 className=\"nameColor\">{product.grams}gms</h5>\r\n                            </div>\r\n                            <button\r\n                            onClick={() => {\r\n                            this.addProductToCart(product)\r\n                            }}\r\n                            className=\"btn btn-sm btn-success btn-add-to-cart\">\r\n                            Add To Cart\r\n                        </button>\r\n                        </div>\r\n                        )}         \r\n                    </div>\r\n                </div>\r\n                </div>        \r\n             </div>\r\n            </div>     \r\n         );\r\n    }\r\n   \r\n}\r\nexport default ProductCategoryScreen"]},"metadata":{},"sourceType":"module"}