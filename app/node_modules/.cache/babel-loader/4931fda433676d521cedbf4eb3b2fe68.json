{"ast":null,"code":"import _classCallCheck from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import{Link}from\"react-router-dom\";import Footer from\"../../components/Footer\";import Navigation from\"../../components/Navigation\";import ApiSupplierService from\"../../services/supplier/ApiSupplierService\";import Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProductFromSupplierScreen=/*#__PURE__*/function(_Component){_inherits(AddProductFromSupplierScreen,_Component);var _super=_createSuper(AddProductFromSupplierScreen);function AddProductFromSupplierScreen(props){var _this;_classCallCheck(this,AddProductFromSupplierScreen);_this=_super.call(this,props);_this.state={products:[],id:'',productName:'',description:'',rating:'',price:'',discount:'',finalPrice:'',qty:'',grams:'',categoryName:''};_this.addProductFromSupplier=_this.addProductFromSupplier.bind(_assertThisInitialized(_this));return _this;}_createClass(AddProductFromSupplierScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var supplierId=this.props.match.params.id;ApiSupplierService.fetchSuppliedProducts(supplierId).then(function(res){_this2.setState({products:res.data.result});});ApiSupplierService.fetchProductCategoryName(supplierId)//Hard Coded Make Sure if the category id and supplier id is same\n.then(function(res){_this2.setState({categoryName:res.data.result});});}},{key:\"addProductFromSupplier\",value:function addProductFromSupplier(p){var product={productName:p.productName,description:p.description,rating:4,price:p.price,discount:p.discount,finalPrice:p.finalPrice,qty:p.qty,grams:p.grams};ApiSupplierService.addProduct(this.state.categoryName,product).then(function(res){Swal.fire({icon:'success',title:'Product Added Successfully',showConfirmButton:true,confirmButtonText:'OKAY'});});ApiSupplierService.deleteFromSuppliedProducts(p.id).then(function(res){Swal.fire({icon:'success',title:'Product Added Successfully',showConfirmButton:true,confirmButtonText:'OKAY'});window.location.reload();});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Product id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Discount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Final Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Grams\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Add Product\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.products===null?/*#__PURE__*/_jsx(\"tr\",{align:\"center\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",children:\"Products Not Available.\"})}):this.state.products!==null&&this.state.products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.id}),/*#__PURE__*/_jsx(\"td\",{children:product.productName}),/*#__PURE__*/_jsx(\"td\",{children:product.suppliedCategory.categoryName}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.discount}),/*#__PURE__*/_jsx(\"td\",{children:product.finalPrice}),/*#__PURE__*/_jsx(\"td\",{children:product.qty}),/*#__PURE__*/_jsx(\"td\",{children:product.grams}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn4 btn-danger\",onClick:function onClick(){return _this3.addProductFromSupplier(product);},children:\"Add Product\"})})]});})})]})})]});}}]);return AddProductFromSupplierScreen;}(Component);export{AddProductFromSupplierScreen as default};","map":{"version":3,"sources":["C:/Users/ombal/Desktop/project/anykart/AnyKart/app/src/screens/admin/AddProductFromSupplierScreen.js"],"names":["Component","Link","Footer","Navigation","ApiSupplierService","Swal","AddProductFromSupplierScreen","props","state","products","id","productName","description","rating","price","discount","finalPrice","qty","grams","categoryName","addProductFromSupplier","bind","supplierId","match","params","fetchSuppliedProducts","then","res","setState","data","result","fetchProductCategoryName","p","product","addProduct","fire","icon","title","showConfirmButton","confirmButtonText","deleteFromSuppliedProducts","window","location","reload","map","suppliedCategory"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Footer from \"../../components/Footer\"\r\nimport Navigation from \"../../components/Navigation\"\r\nimport ApiSupplierService from \"../../services/supplier/ApiSupplierService\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default class AddProductFromSupplierScreen extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            products: [],\r\n            id: '',\r\n            productName: '',\r\n            description:'',\r\n            rating: '',\r\n            price: '',\r\n            discount: '',\r\n            finalPrice: '',\r\n            qty: '',\r\n            grams: '',\r\n            categoryName:''\r\n        };\r\n\r\n        this.addProductFromSupplier = this.addProductFromSupplier.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const supplierId = this.props.match.params.id;\r\n\r\n        ApiSupplierService.fetchSuppliedProducts(supplierId)\r\n        .then((res) => {\r\n            this.setState({products: res.data.result})\r\n        });\r\n\r\n        ApiSupplierService.fetchProductCategoryName(supplierId)//Hard Coded Make Sure if the category id and supplier id is same\r\n        .then((res) => {\r\n            this.setState({categoryName: res.data.result})\r\n        });\r\n    }\r\n\r\n    addProductFromSupplier(p){\r\n\r\n        const product = {\r\n            productName: p.productName, \r\n            description: p.description, \r\n            rating: 4,\r\n            price: p.price, \r\n            discount: p.discount, \r\n            finalPrice: p.finalPrice, \r\n            qty: p.qty, \r\n            grams: p.grams,\r\n        };\r\n\r\n\r\n\r\n        ApiSupplierService.addProduct(this.state.categoryName, product)\r\n            .then(res => {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Product Added Successfully',\r\n                    showConfirmButton: true,\r\n                    confirmButtonText: 'OKAY',\r\n                  })\r\n            });\r\n\r\n        ApiSupplierService.deleteFromSuppliedProducts(p.id)\r\n            .then(res => {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Product Added Successfully',\r\n                    showConfirmButton: true,\r\n                    confirmButtonText: 'OKAY',\r\n                  })\r\n                window.location.reload();\r\n            })\r\n\r\n        \r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Navigation />\r\n                <div className=\"container\">\r\n                <table class=\"table table-striped\" >\r\n                    <thead>\r\n                        <tr>\r\n                        <th scope=\"col\" >Product id</th>\r\n                        <th scope=\"col\" >Product Name</th>\r\n                        <th scope=\"col\" >Category</th>\r\n                        <th scope=\"col\" >Price</th>\r\n                        <th scope=\"col\" >Discount</th>\r\n                        <th scope=\"col\" >Final Price</th>\r\n                        <th scope=\"col\" >Quantity</th>\r\n                        <th scope=\"col\" >Grams</th>\r\n                        <th scope=\"col\" >Add Product</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            this.state.products === null  ?\r\n                            <tr align=\"center\">\r\n                                <td colSpan=\"6\">Products Not Available.</td>\r\n                            </tr> :\r\n                            this.state.products !== null && this.state.products.map((product) => (\r\n                                <tr >\r\n                                    <td>{product.id}</td>\r\n                                    <td>{product.productName}</td>\r\n                                    <td>{product.suppliedCategory.categoryName}</td>\r\n                                    <td>{product.price}</td>\r\n                                    <td>{product.discount}</td>\r\n                                    <td>{product.finalPrice}</td>\r\n                                    <td>{product.qty}</td>\r\n                                    <td>{product.grams}</td>\r\n                                    <td><button className=\"btn4 btn-danger\" onClick={() => this.addProductFromSupplier(product)}>Add Product</button></td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                    </tbody>\r\n                    \r\n                </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}