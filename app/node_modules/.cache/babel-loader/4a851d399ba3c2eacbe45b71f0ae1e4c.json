{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\EKart\\\\AnyKart\\\\app\\\\src\\\\screens\\\\customer\\\\CreateAccountScreen.js\";\nimport \"../../App.css\";\nimport Header from \"../../components/Header\";\nimport { Link } from 'react-router-dom';\nimport Navigation from \"../../components/Navigation\";\nimport Footer from \"../../components/Footer\";\nimport ApiCustomerService from \"../../services/customer/ApiCustomerService\";\nimport React, { Component } from 'react';\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\nconst validateForm = errors => {\n  let valid = true;\n  Object.values(errors).forEach(val => val.length > 0 && (valid = false));\n  return valid;\n};\n\nclass CreateAccountScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      event.preventDefault();\n      const {\n        name,\n        value\n      } = event.target;\n      let errors = this.state.errors;\n\n      switch (name) {\n        case 'fullName':\n          errors.firstName = value.length < 4 ? 'First Name must be at least 5 characters long!' : '';\n          break;\n\n        case 'lastName':\n          errors.firstName = value.length < 4 ? 'First Name must be at least 5 characters long!' : '';\n          break;\n\n        case 'email':\n          errors.email = validEmailRegex.test(value) ? '' : 'Email is not valid!';\n          break;\n\n        case 'password':\n          errors.password = value.length < 8 ? 'Password must be at least 8 characters long!' : '';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (validateForm(this.state.errors)) {\n        console.info('Valid Form');\n      } else {\n        console.error('Invalid Form');\n      }\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.registerUser = e => {\n      e.preventDefault();\n      let user = {\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        email: this.state.email,\n        password: this.state.password,\n        phone: this.state.phone,\n        role: this.state.role\n      };\n      ApiCustomerService.addUser(user).then(res => {\n        if (res.data.result === null) {\n          //  alert(\"Email Addreess Already Registered\")\n          Swal.fire({\n            icon: 'success',\n            title: 'Email Address Already Registered',\n            showConfirmButton: true,\n            confirmButtonText: 'OKAY'\n          });\n        }\n\n        if (res.data.result !== null) {\n          //  alert(\"SignUp successfully\")\n          Swal.fire({\n            icon: 'success',\n            title: 'User Registered',\n            showConfirmButton: true,\n            confirmButtonText: 'OKAY'\n          });\n          this.setState({\n            message: 'SignUp successfully.'\n          });\n          this.props.history.push('/login');\n        }\n      });\n    };\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      phone: '',\n      role: 'CUSTOMER',\n      message: '',\n      errors: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: ''\n      }\n    };\n    this.registerUser = this.registerUser.bind(this);\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          title: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"firstName\",\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"fullName\",\n              onChange: this.handleChange,\n              noValidate: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), errors.firstName.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error\",\n              children: errors.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-sm-4 col-form-label\",\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                name: \"lastName\",\n                value: this.state.lastName,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-sm-4 col-form-label\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: \"form-control\",\n                name: \"email\",\n                value: this.state.email,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-sm-4 col-form-label\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                name: \"password\",\n                value: this.state.password,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-sm-4 col-form-label\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                name: \"phone\",\n                value: this.state.phone,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"float-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 38\n              }, this), \"Existing User? \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"Login here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-hover color-9 float-end\",\n              onClick: this.registerUser,\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CreateAccountScreen;","map":{"version":3,"sources":["D:/Project/EKart/AnyKart/app/src/screens/customer/CreateAccountScreen.js"],"names":["Header","Link","Navigation","Footer","ApiCustomerService","React","Component","Swal","validEmailRegex","RegExp","validateForm","errors","valid","Object","values","forEach","val","length","CreateAccountScreen","constructor","props","handleChange","event","preventDefault","name","value","target","state","firstName","email","test","password","setState","handleSubmit","console","info","error","onChange","e","registerUser","user","lastName","phone","role","addUser","then","res","data","result","fire","icon","title","showConfirmButton","confirmButtonText","message","history","push","bind","render","fullName"],"mappings":"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","sourcesContent":["import \"../../App.css\"\r\nimport Header from \"../../components/Header\"\r\nimport {Link} from 'react-router-dom'\r\nimport Navigation from \"../../components/Navigation\";\r\nimport Footer from \"../../components/Footer\";\r\nimport ApiCustomerService from \"../../services/customer/ApiCustomerService\";\r\nimport React, { Component } from 'react'\r\nimport Swal from \"sweetalert2\";\r\nconst validEmailRegex = RegExp(\r\n  /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n);\r\nconst validateForm = errors => {\r\n  let valid = true;\r\n  Object.values(errors).forEach(val => val.length > 0 && (valid = false));\r\n  return valid;\r\n};\r\nclass CreateAccountScreen extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state ={\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n      phone: '',\r\n      role:'CUSTOMER',\r\n      message: '',\r\n      errors: {\r\n        firstName: '',\r\n        lastName : '',\r\n        email: '',\r\n        password: '',\r\n      }\r\n  }\r\n    this.registerUser = this.registerUser.bind(this);\r\n   \r\n}\r\n\r\nhandleChange = (event) => {\r\n  event.preventDefault();\r\n  const { name, value } = event.target;\r\n  let errors = this.state.errors;\r\n\r\n  switch (name) {\r\n    case 'fullName': \r\n      errors.firstName = \r\n        value.length < 4\r\n          ? 'First Name must be at least 5 characters long!'\r\n          : '';\r\n      break;\r\n      case 'lastName': \r\n      errors.firstName = \r\n        value.length < 4\r\n          ? 'First Name must be at least 5 characters long!'\r\n          : '';\r\n      break;\r\n    case 'email': \r\n      errors.email = \r\n        validEmailRegex.test(value)\r\n          ? ''\r\n          : 'Email is not valid!';\r\n      break;\r\n    case 'password': \r\n      errors.password = \r\n        value.length < 8\r\n          ? 'Password must be at least 8 characters long!'\r\n          : '';\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  this.setState({errors, [name]: value});\r\n}\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if(validateForm(this.state.errors)) {\r\n      console.info('Valid Form')\r\n    }else{\r\n      console.error('Invalid Form')\r\n    }\r\n  }\r\n\r\nonChange = (e) =>\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n    registerUser = (e) => {\r\n      e.preventDefault();\r\n      let user = {firstName: this.state.firstName, lastName: this.state.lastName, email: this.state.email, password: this.state.password, phone: this.state.phone, role: this.state.role};\r\n      ApiCustomerService.addUser(user)\r\n          .then(res => {\r\n            if(res.data.result === null){\r\n            //  alert(\"Email Addreess Already Registered\")\r\n              Swal.fire({\r\n                icon: 'success',\r\n                title: 'Email Address Already Registered',\r\n                showConfirmButton: true,\r\n                confirmButtonText: 'OKAY',\r\n              })\r\n            \r\n            }\r\n            if(res.data.result !== null){\r\n            //  alert(\"SignUp successfully\")\r\n              Swal.fire({\r\n                icon: 'success',\r\n                title: 'User Registered',\r\n                showConfirmButton: true,\r\n                confirmButtonText: 'OKAY',\r\n              })\r\n              this.setState({message : 'SignUp successfully.'});\r\n              this.props.history.push('/login');\r\n            }\r\n            \r\n          });\r\n  }\r\n\r\n  render(){\r\n    const {errors} = this.state;\r\n    return (\r\n      <div>\r\n        <Navigation/>\r\n        <div className=\"main\">\r\n      <Header title=\"Create Account\" />\r\n      <div className=\"form\">\r\n      <div className=\"row mb-3\">\r\n      <label htmlFor=\"firstName\">First Name</label>\r\n              <input type='text' name='fullName' onChange={this.handleChange} noValidate />\r\n              {errors.firstName.length > 0 && \r\n                <span className='error'>{errors.fullName}</span>}\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">Last Name</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"lastName\" value={this.state.lastName} onChange={this.onChange}/>\r\n          </div>\r\n       </div>\r\n\r\n       <div class=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">Email</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"email\" className=\"form-control\" name=\"email\" value={this.state.email} onChange={this.onChange}/>\r\n          </div>\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">Password</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"password\" className=\"form-control\" name=\"password\" value={this.state.password} onChange={this.onChange}/>\r\n          </div>\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">Phone</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"phone\" value={this.state.phone} onChange={this.onChange}/>\r\n          </div>\r\n       </div>\r\n        <div className=\"mb-3\">\r\n        <div className=\"float-start\"><br></br>\r\n            Existing User? <Link to=\"/login\">Login here</Link>\r\n          </div>\r\n          <button className=\"btn-hover color-9 float-end\" onClick={this.registerUser}>\r\n            Register\r\n          </button>\r\n          <br></br>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n      </div>\r\n  )\r\n  }\r\n    \r\n}\r\nexport default CreateAccountScreen\r\n"]},"metadata":{},"sourceType":"module"}