{"ast":null,"code":"import _defineProperty from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Link}from'react-router-dom';import Navigation from\"../../components/Navigation\";import Footer from\"../../components/Footer\";import ApiCustomerService from\"../../services/customer/ApiCustomerService\";import React,{Component}from'react';import Header from\"../../components/Header\";import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfileScreen=/*#__PURE__*/function(_Component){_inherits(EditProfileScreen,_Component);var _super=_createSuper(EditProfileScreen);function EditProfileScreen(props){var _this;_classCallCheck(this,EditProfileScreen);_this=_super.call(this,props);_this.onChange=function(e){return _this.setState(_defineProperty({},e.target.name,e.target.value));};_this.editUser=function(e){e.preventDefault();var user={id:_this.state.id,firstName:_this.state.firstName,lastName:_this.state.lastName,email:_this.state.email,phone:_this.state.phone};ApiCustomerService.editUser(user).then(function(res){var user=res.data.result;user!=null&&window.localStorage.setItem(\"user_fname\",user.firstName);user!=null&&window.localStorage.setItem(\"user_lname\",user.lastName);user!=null&&window.localStorage.setItem(\"user_email\",user.email);user!=null&&window.localStorage.setItem(\"user_phone\",user.phone);//  alert(\"Profile Update successfully\")\nSwal.fire({icon:'success',title:'Profile Update successfully',showConfirmButton:true,confirmButtonText:'OKAY'});window.localStorage.getItem(\"user_role\")=='CUSTOMER'&&_this.props.history.push('/home');window.localStorage.getItem(\"user_role\")=='SUPPLIER'&&_this.props.history.push('/supplierhome');window.localStorage.getItem(\"user_role\")=='DELIVERY_BOY'&&_this.props.history.push('/deliveryboyhome');window.localStorage.getItem(\"user_role\")=='ADMIN'&&_this.props.history.push('/adminhome');});};_this.state={id:'',firstName:'',lastName:'',email:'',phone:'',message:''};_this.editUser=_this.editUser.bind(_assertThisInitialized(_this));return _this;}_createClass(EditProfileScreen,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({id:window.localStorage.getItem(\"user_id\"),firstName:window.localStorage.getItem(\"user_fname\"),lastName:window.localStorage.getItem(\"user_lname\"),email:window.localStorage.getItem(\"user_email\"),phone:window.localStorage.getItem(\"user_phone\")});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(Header,{title:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 col-form-label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"firstName\",value:this.state.firstName,onChange:this.onChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 col-form-label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"lastName\",value:this.state.lastName,onChange:this.onChange})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 col-form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",value:this.state.email,onChange:this.onChange,readOnly:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 col-form-label\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"phone\",value:this.state.phone,onChange:this.onChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn4 btn-success float-end\",onClick:this.editUser,children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"br\",{})]})]})]})]});}}]);return EditProfileScreen;}(Component);export default EditProfileScreen;","map":{"version":3,"sources":["C:/Users/ombal/Desktop/project/anykart/AnyKart/app/src/screens/common/EditProfileScreen.js"],"names":["Link","Navigation","Footer","ApiCustomerService","React","Component","Header","Swal","EditProfileScreen","props","onChange","e","setState","target","name","value","editUser","preventDefault","user","id","state","firstName","lastName","email","phone","then","res","data","result","window","localStorage","setItem","fire","icon","title","showConfirmButton","confirmButtonText","getItem","history","push","message","bind"],"mappings":"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","sourcesContent":["import {Link} from 'react-router-dom'\r\nimport Navigation from \"../../components/Navigation\";\r\nimport Footer from \"../../components/Footer\";\r\nimport ApiCustomerService from \"../../services/customer/ApiCustomerService\";\r\nimport React, { Component } from 'react'\r\nimport Header from \"../../components/Header\"\r\nimport Swal from 'sweetalert2';\r\nclass EditProfileScreen extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state ={\r\n      id : '',\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      phone: '',\r\n      message: ''\r\n  }\r\n    this.editUser = this.editUser.bind(this);\r\n}\r\n\r\ncomponentDidMount() {\r\n    this.setState({\r\n        id: window.localStorage.getItem(\"user_id\"),\r\n        firstName: window.localStorage.getItem(\"user_fname\"),\r\n        lastName: window.localStorage.getItem(\"user_lname\"),\r\n        email: window.localStorage.getItem(\"user_email\"),\r\n        phone: window.localStorage.getItem(\"user_phone\"),\r\n        })\r\n}\r\n\r\n\r\nonChange = (e) =>\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n    editUser = (e) => {\r\n      e.preventDefault();\r\n      let user = {id: this.state.id, firstName: this.state.firstName, lastName: this.state.lastName, email: this.state.email, phone: this.state.phone};\r\n      ApiCustomerService.editUser(user)\r\n          .then(res => {\r\n              let user = res.data.result;\r\n              user != null && window.localStorage.setItem(\"user_fname\", user.firstName);\r\n              user != null && window.localStorage.setItem(\"user_lname\", user.lastName);\r\n              user != null && window.localStorage.setItem(\"user_email\", user.email);\r\n              user != null && window.localStorage.setItem(\"user_phone\", user.phone);\r\n            //  alert(\"Profile Update successfully\")\r\n              Swal.fire({\r\n                icon: 'success',\r\n                title: 'Profile Update successfully',\r\n                showConfirmButton: true,\r\n                confirmButtonText: 'OKAY',\r\n              })\r\n              window.localStorage.getItem(\"user_role\") == 'CUSTOMER' && this.props.history.push('/home');\r\n              window.localStorage.getItem(\"user_role\") == 'SUPPLIER' && this.props.history.push('/supplierhome');\r\n              window.localStorage.getItem(\"user_role\") == 'DELIVERY_BOY' && this.props.history.push('/deliveryboyhome');\r\n              window.localStorage.getItem(\"user_role\") == 'ADMIN' && this.props.history.push('/adminhome');\r\n          });\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <Navigation/>\r\n        <div className=\"main\">\r\n      <Header title=\"Edit Profile\" />\r\n      <br/>\r\n      <div className=\"form\">\r\n      <div className=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">First Name</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"firstName\" value={this.state.firstName} onChange={this.onChange}/>\r\n          </div>\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">Last Name</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"lastName\" value={this.state.lastName} onChange={this.onChange}/>\r\n          </div>\r\n       </div>\r\n\r\n       <div class=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">Email</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"email\" className=\"form-control\" name=\"email\" value={this.state.email} onChange={this.onChange} readOnly/>\r\n          </div>\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label className=\"col-sm-4 col-form-label\">Phone</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"phone\" value={this.state.phone} onChange={this.onChange}/>\r\n          </div>\r\n       </div>\r\n        <div className=\"mb-3\">\r\n          <button className=\"btn4 btn-success float-end\" onClick={this.editUser}>\r\n            Save Changes\r\n          </button>\r\n          <br></br>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n      </div>\r\n  )\r\n  }\r\n    \r\n}\r\nexport default EditProfileScreen"]},"metadata":{},"sourceType":"module"}