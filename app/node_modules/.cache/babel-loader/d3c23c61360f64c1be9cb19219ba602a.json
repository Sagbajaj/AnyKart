{"ast":null,"code":"import _defineProperty from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/ombal/Desktop/project/anykart/AnyKart/app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import ApiCustomerService from\"../../services/customer/ApiCustomerService\";import Navigation from\"../../components/Navigation\";import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PaymentScreen=/*#__PURE__*/function(_Component){_inherits(PaymentScreen,_Component);var _super=_createSuper(PaymentScreen);function PaymentScreen(props){var _this;_classCallCheck(this,PaymentScreen);_this=_super.call(this,props);_this.onChange=function(e){return _this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={paymentInfo:'',message:''};_this.payment=_this.payment.bind(_assertThisInitialized(_this));_this.addOrder=_this.addOrder.bind(_assertThisInitialized(_this));_this.addOrderDetail=_this.addOrderDetail.bind(_assertThisInitialized(_this));_this.paymentDetails=_this.paymentDetails.bind(_assertThisInitialized(_this));_this.selectCredit=_this.selectCredit.bind(_assertThisInitialized(_this));_this.selectDebit=_this.selectDebit.bind(_assertThisInitialized(_this));_this.addOrderIdtoOrderAddress=_this.addOrderIdtoOrderAddress.bind(_assertThisInitialized(_this));return _this;}_createClass(PaymentScreen,[{key:\"addOrder\",value:function addOrder(){var _this2=this;ApiCustomerService.addorders(window.localStorage.getItem(\"total_price\"),window.localStorage.getItem(\"user_id\")).then(function(res){JSON.stringify(window.localStorage.setItem(\"orderId\",res.data.result));_this2.addOrderDetail();});}},{key:\"addOrderDetail\",value:function addOrderDetail(){var _this3=this;ApiCustomerService.addDetails(window.localStorage.getItem(\"user_id\"),JSON.parse(window.localStorage.getItem(\"orderId\"))).then(function(res){JSON.stringify(window.localStorage.setItem(\"deliveryBoyId\",res.data.result));_this3.paymentDetails();});}},{key:\"paymentDetails\",value:function paymentDetails(){this.state.payment={paymentType:this.state.paymentInfo,deliveryBoyId:JSON.parse(window.localStorage.getItem(\"deliveryBoyId\")),orderId:JSON.parse(window.localStorage.getItem(\"orderId\"))};ApiCustomerService.addpaymentDetails(this.state.payment);this.addOrderIdtoOrderAddress();}},{key:\"addOrderIdtoOrderAddress\",value:function addOrderIdtoOrderAddress(){ApiCustomerService.addOrderIdtoOrderAddress(window.localStorage.getItem(\"address_id\"),window.localStorage.getItem(\"orderId\"));}},{key:\"payment\",value:function payment(){this.addOrder();// alert('Payment Done')\nSwal.fire({icon:'success',title:'Payment Done',showConfirmButton:true,confirmButtonText:'OKAY'});window.localStorage.removeItem(\"cart_size\");window.localStorage.removeItem(\"deliveryBoyId\");window.localStorage.removeItem(\"orderId\");this.props.history.push('/home');}},{key:\"selectCredit\",value:function selectCredit(){this.state.paymentInfo=\"CREDIT\";}},{key:\"selectDebit\",value:function selectDebit(){this.state.paymentInfo=\"DEBIT\";}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"div\",{className:\"payment\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"float-center\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Total Price : \",window.localStorage.getItem(\"total_price\")]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"position1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Payment Type\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"exampleFormControlSelect1\",onChange:this.onChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Credit\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Debit\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Card Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Card Number\",name:\"cardNumber\",required:\"true\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"CVV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Enter CVV\",name:\"cvv\",required:\"true\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Expiry Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Enter Expiry Date\",name:\"expiryDate\",required:\"true\"})]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn4 btn-primary\",style:{width:'150px'},onClick:function onClick(){return _this4.payment();},children:\"Payment\"})]})})})]});}}]);return PaymentScreen;}(Component);export default PaymentScreen;","map":{"version":3,"sources":["C:/Users/ombal/Desktop/project/anykart/AnyKart/app/src/screens/customer/PaymentScreen.js"],"names":["React","Component","ApiCustomerService","Navigation","Swal","PaymentScreen","props","onChange","e","setState","target","name","value","state","paymentInfo","message","payment","bind","addOrder","addOrderDetail","paymentDetails","selectCredit","selectDebit","addOrderIdtoOrderAddress","addorders","window","localStorage","getItem","then","res","JSON","stringify","setItem","data","result","addDetails","parse","paymentType","deliveryBoyId","orderId","addpaymentDetails","fire","icon","title","showConfirmButton","confirmButtonText","removeItem","history","push","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ApiCustomerService from \"../../services/customer/ApiCustomerService\";\r\nimport Navigation from \"../../components/Navigation\";\r\nimport Swal from 'sweetalert2';\r\n\r\nclass PaymentScreen extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state ={\r\n            paymentInfo: '',\r\n          message: ''\r\n      }\r\n        this.payment = this.payment.bind(this);\r\n        this.addOrder = this.addOrder.bind(this);\r\n        this.addOrderDetail = this.addOrderDetail.bind(this);\r\n        this.paymentDetails = this.paymentDetails.bind(this);\r\n        this.selectCredit = this.selectCredit.bind(this); \r\n        this.selectDebit = this.selectDebit.bind(this);\r\n        this.addOrderIdtoOrderAddress = this.addOrderIdtoOrderAddress.bind(this);\r\n    }\r\n\r\n    onChange = (e) =>\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n    addOrder(){\r\n        ApiCustomerService.addorders(window.localStorage.getItem(\"total_price\"), window.localStorage.getItem(\"user_id\"))\r\n    .then(res => {\r\n        JSON.stringify(window.localStorage.setItem(\"orderId\", res.data.result))\r\n        this.addOrderDetail();\r\n    });\r\n    \r\n    }\r\n\r\n    addOrderDetail(){\r\n        ApiCustomerService.addDetails(window.localStorage.getItem(\"user_id\"), JSON.parse(window.localStorage.getItem(\"orderId\")))\r\n        .then(res => {\r\n            JSON.stringify(window.localStorage.setItem(\"deliveryBoyId\", res.data.result))\r\n            this.paymentDetails();\r\n    });\r\n   \r\n    }\r\n   \r\n    paymentDetails(){\r\n        this.state.payment = {paymentType: this.state.paymentInfo, \r\n                            deliveryBoyId: JSON.parse(window.localStorage.getItem(\"deliveryBoyId\")), \r\n                            orderId : JSON.parse(window.localStorage.getItem(\"orderId\"))};\r\n        ApiCustomerService.addpaymentDetails(this.state.payment);\r\n        this.addOrderIdtoOrderAddress();\r\n    }\r\n\r\n    addOrderIdtoOrderAddress(){\r\n        ApiCustomerService.addOrderIdtoOrderAddress(window.localStorage.getItem(\"address_id\"), window.localStorage.getItem(\"orderId\"))\r\n    }\r\n\r\n    payment() {\r\n        this.addOrder();\r\n       // alert('Payment Done')\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: 'Payment Done',\r\n            showConfirmButton: true,\r\n            confirmButtonText: 'OKAY',\r\n          })\r\n        window.localStorage.removeItem(\"cart_size\");\r\n        window.localStorage.removeItem(\"deliveryBoyId\");\r\n        window.localStorage.removeItem(\"orderId\");\r\n\r\n        this.props.history.push('/home');\r\n    }\r\n\r\n    selectCredit() {\r\n        this.state.paymentInfo= \"CREDIT\";\r\n    }\r\n\r\n    selectDebit() {\r\n        this.state.paymentInfo= \"DEBIT\";\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            \r\n            <div>\r\n                <Navigation/>\r\n                <div className=\"payment\">\r\n               <div>\r\n                <div className=\"float-center\">\r\n                    <h5>Total Price : {window.localStorage.getItem(\"total_price\")}</h5>\r\n                    <br/>\r\n                    <div className=\"position1\">\r\n                        \r\n                             {/* <a className=\"btn btn-light dropdown-toggle\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                             Payment Type\r\n                             </a>\r\n                                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n                                    <a className=\"dropdown-item\" onClick={this.selectCredit}>Credit</a>\r\n                                    <form>\r\n                                        \r\n                                    </form>\r\n                                    <a className=\"dropdown-item\" onClick={this.selectDebit}>Debit</a>\r\n                                </div>     */}\r\n                                <div className=\"form-group\">\r\n                                    <label>Payment Type</label>\r\n                                    <select className=\"form-control\" id=\"exampleFormControlSelect1\" onChange={this.onChange}>\r\n                                        <option>Credit</option>\r\n                                        <option>Debit</option>\r\n                                    </select>\r\n                                </div>\r\n                                <form>\r\n                                    <div className=\"form-group\">\r\n                                        <label>Card Number</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter Card Number\" name=\"cardNumber\" required='true' />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>CVV</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Enter CVV\" name=\"cvv\" required='true' />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>Expiry Date</label>\r\n                                        <input type=\"text\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Enter Expiry Date\" name=\"expiryDate\" required='true' />\r\n                                    </div>\r\n                                </form>\r\n                         </div>     \r\n                     \r\n                     <br/>  \r\n\r\n                    <button className=\"btn4 btn-primary\" style={{width:'150px'}} onClick={() => this.payment()}>Payment</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n    \r\n        );\r\n    }\r\n}\r\n\r\nexport default PaymentScreen"]},"metadata":{},"sourceType":"module"}