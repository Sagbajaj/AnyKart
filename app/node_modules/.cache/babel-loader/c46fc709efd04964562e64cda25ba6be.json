{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\EKart\\\\AnyKart\\\\app\\\\src\\\\screens\\\\customer\\\\CreateAccountScreen.js\";\nimport \"../../App.css\";\nimport Header from \"../../components/Header\";\nimport { Link } from 'react-router-dom';\nimport Navigation from \"../../components/Navigation\";\nimport Footer from \"../../components/Footer\";\nimport ApiCustomerService from \"../../services/customer/ApiCustomerService\";\nimport React, { Component } from 'react';\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\nconst validateForm = errors => {\n  let valid = true;\n  Object.values(errors).forEach(val => val.length > 0 && (valid = false));\n  return valid;\n};\n\nclass CreateAccountScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      event.preventDefault();\n      const {\n        name,\n        value\n      } = event.target;\n      let errors = this.state.errors;\n\n      switch (name) {\n        case 'firstName':\n          errors.firstName = value.length < 2 ? 'First Name must be at least 2 characters long!' : '';\n          break;\n\n        case 'lastName':\n          errors.lastName = value.length < 4 ? 'Last Name must be at least 4 characters long!' : '';\n          break;\n\n        case 'email':\n          errors.email = validEmailRegex.test(value) ? '' : 'Email is not valid!';\n          break;\n\n        case 'password':\n          errors.password = value.length < 8 ? 'Password must be at least 8 characters long!' : '';\n          break;\n\n        case 'phone':\n          errors.phone = value.length < 10 ? 'Phone number must be at least 8 characters long!' : '';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (validateForm(this.state.errors)) {\n        let user = {\n          firstName: this.state.firstName,\n          lastName: this.state.lastName,\n          email: this.state.email,\n          password: this.state.password,\n          phone: this.state.phone,\n          role: this.state.role\n        };\n        console.info('Valid Form');\n        ApiCustomerService.addUser(user).then(res => {\n          if (res.data.result === null) {\n            //  alert(\"Email Addreess Already Registered\")\n            Swal.fire({\n              icon: 'success',\n              title: 'Email Address Already Registered',\n              showConfirmButton: true,\n              confirmButtonText: 'OKAY'\n            });\n          }\n\n          if (res.data.result !== null) {\n            //  alert(\"SignUp successfully\")\n            Swal.fire({\n              icon: 'success',\n              title: 'User Registered',\n              showConfirmButton: true,\n              confirmButtonText: 'OKAY'\n            });\n            this.setState({\n              message: 'SignUp successfully.'\n            });\n            this.props.history.push('/login');\n          }\n        });\n      } else {\n        Swal.fire({\n          icon: 'success',\n          title: 'Invalid User details',\n          showConfirmButton: true,\n          confirmButtonText: 'OKAY'\n        });\n      }\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      phone: '',\n      role: 'CUSTOMER',\n      message: '',\n      errors: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        phone: ''\n      }\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          title: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"firstName\",\n              className: \"col-sm-4 col-form-label\",\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                name: \"firstName\",\n                value: this.state.firstName,\n                onChange: this.handleChange,\n                noValidate: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 15\n              }, this), errors.firstName.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error\",\n                children: errors.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"lastName\",\n              className: \"col-sm-4 col-form-label\",\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                name: \"lastName\",\n                value: this.state.lastName,\n                onChange: this.handleChange,\n                noValidate: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 15\n              }, this), errors.lastName.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error\",\n                children: errors.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"col-sm-4 col-form-label\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: \"form-control\",\n                name: \"email\",\n                value: this.state.email,\n                onChange: this.handleChange,\n                noValidate: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 15\n              }, this), errors.email.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error\",\n                children: errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlfor: \"password\",\n              className: \"col-sm-4 col-form-label\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                name: \"password\",\n                value: this.state.password,\n                onChange: this.handleChange,\n                noValidate: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 15\n              }, this), errors.password.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error\",\n                children: errors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"phone\",\n              className: \"col-sm-4 col-form-label\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-8\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                name: \"phone\",\n                value: this.state.phone,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"float-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 38\n              }, this), \"Existing User? \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"Login here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-hover color-9 float-end\",\n              onClick: this.handleSubmit,\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CreateAccountScreen;","map":{"version":3,"sources":["D:/Project/EKart/AnyKart/app/src/screens/customer/CreateAccountScreen.js"],"names":["Header","Link","Navigation","Footer","ApiCustomerService","React","Component","Swal","validEmailRegex","RegExp","validateForm","errors","valid","Object","values","forEach","val","length","CreateAccountScreen","constructor","props","handleChange","event","preventDefault","name","value","target","state","firstName","lastName","email","test","password","phone","setState","handleSubmit","user","role","console","info","addUser","then","res","data","result","fire","icon","title","showConfirmButton","confirmButtonText","message","history","push","onChange","e","bind","render"],"mappings":"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","sourcesContent":["import \"../../App.css\"\r\nimport Header from \"../../components/Header\"\r\nimport {Link} from 'react-router-dom'\r\nimport Navigation from \"../../components/Navigation\";\r\nimport Footer from \"../../components/Footer\";\r\nimport ApiCustomerService from \"../../services/customer/ApiCustomerService\";\r\nimport React, { Component } from 'react'\r\nimport Swal from \"sweetalert2\";\r\nconst validEmailRegex = RegExp(\r\n  /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n);\r\nconst validateForm = errors => {\r\n  let valid = true;\r\n  Object.values(errors).forEach(val => val.length > 0 && (valid = false));\r\n  return valid;\r\n};\r\nclass CreateAccountScreen extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state ={\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n      phone: '',\r\n      role:'CUSTOMER',\r\n      message: '',\r\n      errors: {\r\n        firstName: '',\r\n        lastName : '',\r\n        email: '',\r\n        password: '',\r\n        phone: '',\r\n      }\r\n  }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n   \r\n}\r\n\r\nhandleChange = (event) => {\r\n  event.preventDefault();\r\n  const { name, value } = event.target;\r\n  \r\n  let errors = this.state.errors;\r\n\r\n  switch (name) {\r\n    case 'firstName': \r\n      errors.firstName = \r\n        value.length < 2\r\n          ? 'First Name must be at least 2 characters long!'\r\n          : '';\r\n      break;\r\n      case 'lastName': \r\n      errors.lastName = \r\n        value.length < 4\r\n          ? 'Last Name must be at least 4 characters long!'\r\n          : '';\r\n      break;\r\n    case 'email': \r\n      errors.email = \r\n        validEmailRegex.test(value)\r\n          ? ''\r\n          : 'Email is not valid!';\r\n      break;\r\n    case 'password': \r\n      errors.password = \r\n        value.length < 8\r\n          ? 'Password must be at least 8 characters long!'\r\n          : '';\r\n      break;\r\n      case 'phone': \r\n      errors.phone = \r\n        value.length < 10\r\n          ? 'Phone number must be at least 8 characters long!'\r\n          : '';\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  this.setState({errors, [name]: value}) ;\r\n}\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if(validateForm(this.state.errors)) {\r\n      let user = {firstName: this.state.firstName, lastName: this.state.lastName, email: this.state.email, password: this.state.password, phone: this.state.phone, role: this.state.role};\r\n      console.info('Valid Form')\r\n      ApiCustomerService.addUser(user)\r\n          .then(res => {\r\n            if(res.data.result === null){\r\n            //  alert(\"Email Addreess Already Registered\")\r\n              Swal.fire({\r\n                icon: 'success',\r\n                title: 'Email Address Already Registered',\r\n                showConfirmButton: true,\r\n                confirmButtonText: 'OKAY',\r\n              })\r\n            \r\n            }\r\n            if(res.data.result !== null){\r\n            //  alert(\"SignUp successfully\")\r\n              Swal.fire({\r\n                icon: 'success',\r\n                title: 'User Registered',\r\n                showConfirmButton: true,\r\n                confirmButtonText: 'OKAY',\r\n              })\r\n              this.setState({message : 'SignUp successfully.'});\r\n              this.props.history.push('/login');\r\n            }\r\n            \r\n          });\r\n    }else{\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Invalid User details',\r\n        showConfirmButton: true,\r\n        confirmButtonText: 'OKAY',\r\n      })\r\n    }\r\n  }\r\n\r\nonChange = (e) =>\r\n        this.setState({ [e.target.name]: e.target.value });\r\n\r\n  \r\n\r\n  render(){\r\n    const {errors} = this.state;\r\n    return (\r\n      <div>\r\n        <Navigation/>\r\n        <div className=\"main\">\r\n      <Header title=\"Create Account\" />\r\n      <div className=\"form\">\r\n      <div className=\"row mb-3\">\r\n          <label htmlFor=\"firstName\" className=\"col-sm-4 col-form-label\">First Name</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"firstName\" value={this.state.firstName} onChange={this.handleChange} noValidate/>\r\n              {errors.firstName.length > 0 && \r\n                <span className='error'>{errors.firstName}</span>}\r\n          </div>\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label htmlFor=\"lastName\" className=\"col-sm-4 col-form-label\">Last Name</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"lastName\" value={this.state.lastName} onChange={this.handleChange} noValidate/>\r\n              {errors.lastName.length > 0 && \r\n                <span className='error'>{errors.lastName}</span>}\r\n          </div>\r\n       </div>\r\n\r\n       <div class=\"row mb-3\">\r\n          <label htmlFor=\"email\" className=\"col-sm-4 col-form-label\">Email</label>\r\n          \r\n          <div className=\"col-sm-8\">\r\n              <input type=\"email\" className=\"form-control\" name=\"email\" value={this.state.email} onChange={this.handleChange} noValidate/>\r\n              {errors.email.length > 0 && \r\n                <span className='error'>{errors.email}</span>}\r\n          </div>\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label htmlfor=\"password\"className=\"col-sm-4 col-form-label\">Password</label>\r\n          \r\n          <div className=\"col-sm-8\">\r\n              <input type=\"password\" className=\"form-control\" name=\"password\" value={this.state.password} onChange={this.handleChange} noValidate/>\r\n              {errors.password.length > 0 && \r\n                <span className='error'>{errors.password}</span>}\r\n          </div>\r\n       </div>\r\n\r\n       <div className=\"row mb-3\">\r\n          <label htmlFor=\"phone\" className=\"col-sm-4 col-form-label\">Phone</label>\r\n          <div className=\"col-sm-8\">\r\n              <input type=\"text\" className=\"form-control\" name=\"phone\" value={this.state.phone} onChange={this.onChange} />\r\n          </div>\r\n       </div>\r\n        <div className=\"mb-3\">\r\n        <div className=\"float-start\"><br></br>\r\n            Existing User? <Link to=\"/login\">Login here</Link>\r\n          </div>\r\n          <button className=\"btn-hover color-9 float-end\" onClick={this.handleSubmit}>\r\n            Register\r\n          </button>\r\n          <br></br>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n      </div>\r\n  )\r\n  }\r\n    \r\n}\r\nexport default CreateAccountScreen\r\n"]},"metadata":{},"sourceType":"module"}